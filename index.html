<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
</head>

<body>

    <div id="wrapper">

        <p>Permissão do navegador: <b id="status">unavailable</b>.</p>

        <p><button onclick="requestPermission()">Obter permissão</button></p>
        <p><button onclick="nonPersistentNotification()">Enviar notificação</button></p>

    </div>

    <script>
        var $status = document.getElementById('status');

        if ('Notification' in window) {
            $status.innerText = Notification.permission;
        }

        function requestPermission() {
            if (!('Notification' in window)) {
                alert('Notification API not supported!');
                return;
            }

            Notification.requestPermission(function (result) {
                $status.innerText = result;
            });
        }

        function nonPersistentNotification() {
            if (!('Notification' in window)) {
                alert('Notification API not supported!');
                return;
            }

            try {
                new Notification("Testando notificação no navegador!");
            } catch (err) {
                alert('Notification API error: ' + err);
            }
        }

    </script>
</body>

</html>